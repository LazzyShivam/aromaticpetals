(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{1791:(e,r,d)=>{Promise.resolve().then(d.bind(d,7170))},7170:(e,r,d)=>{"use strict";d.r(r),d.d(r,{default:()=>n});var t=d(5155),a=d(8500),s=d.n(a),i=d(2115);function l({label:e,value:r,href:d}){return(0,t.jsxs)(s(),{href:d,className:"group rounded-lg border border-gray-200 dark:border-zinc-700 bg-white dark:bg-zinc-800 px-5 py-4 hover:shadow-sm transition",children:[(0,t.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:e}),(0,t.jsx)("div",{className:"mt-2 text-2xl font-semibold text-gray-900 dark:text-white group-hover:text-indigo-600 dark:group-hover:text-indigo-400",children:r})]})}function n(){let[e,r]=(0,i.useState)(null),[d,a]=(0,i.useState)(!0),[n,o]=(0,i.useState)(null);(0,i.useEffect)(()=>{let e=!1;return async function(){a(!0),o(null);try{let d=await fetch("/api/admin/dashboard/summary",{method:"GET",headers:{"Cache-Control":"no-cache"}}),t=await d.json().catch(()=>null);if(!d.ok)throw Error(t?.error||"Failed to load dashboard");e||r(t)}catch(r){e||o(r?.message||"Failed to load dashboard")}finally{e||a(!1)}}(),()=>{e=!0}},[]);let c=(0,i.useMemo)(()=>e?[{label:"Products",value:e.products.total,href:"/admin/products"},{label:"Active products",value:e.products.active,href:"/admin/products"},{label:"Orders",value:e.orders.total,href:"/admin/orders"},{label:"Pending orders",value:e.orders.pending,href:"/admin/orders"}]:[],[e]);return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Dashboard"}),(0,t.jsx)("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Quick overview of products and orders."})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(s(),{href:"/admin/products",className:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700",children:"Manage products"}),(0,t.jsx)(s(),{href:"/admin/orders",className:"rounded-md border border-gray-200 dark:border-zinc-700 bg-white dark:bg-zinc-800 px-4 py-2 text-sm font-medium text-gray-900 dark:text-white hover:bg-gray-50 dark:hover:bg-zinc-700",children:"View orders"})]})]}),n&&(0,t.jsx)("div",{className:"mt-6 bg-red-50 border border-red-200 text-red-700 dark:bg-zinc-800 dark:border-red-900/40 dark:text-red-300 rounded-md p-4 text-sm",children:n}),(0,t.jsx)("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:d?Array.from({length:4}).map((e,r)=>(0,t.jsxs)("div",{className:"rounded-lg border border-gray-200 dark:border-zinc-700 bg-white dark:bg-zinc-800 px-5 py-4 animate-pulse",children:[(0,t.jsx)("div",{className:"h-3 w-24 bg-gray-200 dark:bg-zinc-700 rounded"}),(0,t.jsx)("div",{className:"mt-3 h-6 w-16 bg-gray-200 dark:bg-zinc-700 rounded"})]},r)):c.map(e=>(0,t.jsx)(l,{label:e.label,value:e.value,href:e.href},e.label))}),e&&!d&&(0,t.jsxs)("div",{className:"mt-8 rounded-lg border border-gray-200 dark:border-zinc-700 bg-white dark:bg-zinc-800 p-6",children:[(0,t.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Order pipeline"}),(0,t.jsxs)("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Pending"}),(0,t.jsx)("div",{className:"mt-1 text-lg font-semibold text-gray-900 dark:text-white",children:e.orders.pending})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Confirmed"}),(0,t.jsx)("div",{className:"mt-1 text-lg font-semibold text-gray-900 dark:text-white",children:e.orders.confirmed})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Shipped"}),(0,t.jsx)("div",{className:"mt-1 text-lg font-semibold text-gray-900 dark:text-white",children:e.orders.shipped})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Delivered"}),(0,t.jsx)("div",{className:"mt-1 text-lg font-semibold text-gray-900 dark:text-white",children:e.orders.delivered})]})]})]})]})}}},e=>{e.O(0,[500,441,794,358],()=>e(e.s=1791)),_N_E=e.O()}]);